@if (trip(); as trip) {
  <nz-calendar [nzFullscreen]="false" [nzValue]="trip.startDate">
    <ul *nzDateFullCell="let date" class="max-h-14 overflow-hidden">
      @if (date && trip.startDate && trip.endDate) {
        @if (
          getDateWithoutTime(date).valueOf() >=
            getDateWithoutTime(trip.startDate).valueOf() &&
          getDateWithoutTime(date).valueOf() <=
            getDateWithoutTime(trip.endDate).valueOf()
        ) {
          @if (
            getDateWithoutTime(date).valueOf() ===
              getDateWithoutTime(trip.startDate).valueOf() &&
            getDateWithoutTime(date).valueOf() ===
              getDateWithoutTime(trip.endDate).valueOf()
          ) {
            @if (date | hasActivity: trip.itinerary ?? []) {
              <li
                class="tripStartAndEndDate rounded-full bg-green-1000 text-black">
                {{ date.getDate() }}
              </li>
            } @else {
              <li class="tripStartAndEndDate">
                {{ date.getDate() }}
              </li>
            }
          } @else if (
            getDateWithoutTime(date).valueOf() ===
            getDateWithoutTime(trip.startDate).valueOf()
          ) {
            @if (date | hasActivity: trip.itinerary ?? []) {
              <li class="tripStartDate rounded-full bg-green-1000 text-black">
                {{ date.getDate() }}
              </li>
            } @else {
              <li class="tripStartDate">
                {{ date.getDate() }}
              </li>
            }
          } @else if (
            getDateWithoutTime(date).valueOf() ===
            getDateWithoutTime(trip.endDate).valueOf()
          ) {
            @if (date | hasActivity: trip.itinerary ?? []) {
              <li class="tripEndDate rounded-full bg-green-1000 text-black">
                {{ date.getDate() }}
              </li>
            } @else {
              <li class="tripEndDate">
                {{ date.getDate() }}
              </li>
            }
          } @else {
            @if (date | hasActivity: trip.itinerary ?? []) {
              <li class="tripDate rounded-full bg-green-1000 text-black">
                {{ date.getDate() }}
              </li>
            } @else {
              <li class="tripDate">
                {{ date.getDate() }}
              </li>
            }
          }
        } @else {
          <li class="rounded-full">
            {{ date.getDate() }}
          </li>
        }
      }
    </ul>
  </nz-calendar>
}
